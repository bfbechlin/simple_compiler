-- Descrição geral

prog: prog decl ';' |

-- Variáveis globais

var: ID ':' type lit

vec: ID ':' type '[' uint ']' vec_init
vec_init: vec_init lit |

type: KW_BYTE | KW_SHORT | KW_LONG | KW_FLOAT | KW_DOUBLE
lit: LIT_INT | LIT_REAL | LIT_CHAR

-- Funções

func: fheader fbody

fheader: type ID '(' params_list ')'
params_list: params |
params: params_rest type ID
params_rest: params_rest type ID ',' |

fbody: cmd

-- Bloco de comandos

block: '{' '}' | '{' cmd_list '}'
cmd_list: cmd_list cmd ';'

-- Comando simples

cmd: attr | ctrl | read | print | return | block |

attr: ID '=' expr | ID '#' expr '=' expr

read: KW_READ ID

print: KW_PRINT print_list
print_list: print_list ' ' print_arg
print_arg: LIT_STRING | expr

return: KW_RETURN expr

-- Expressões

expr: ID | ID '[' expr ']' | LIT_INT | LIT_CHAR | LIT_READ | ID '(' args_list ')'
    | expr '+' expr
	| expr '-' expr
	| expr '*' expr
	| expr '/' expr
	| expr '<' expr
	| expr '>' expr
	| '!' expr
	| expr OP_LE expr
	| expr OP_GE expr
	| expr OP_EQ expr
	| expr OP_NE expr
	| expr OP_AND expr
	| expr OP_OR expr

args_list: args |
args: args_rest expr
args_rest: args_rest expr ',' |

-- Controle de fluxo

ctrl: KW_WHEN '(' expr ')' KW_THEN cmd
    | KW_WHEN '(' expr ')' KW_THEN cmd KW_ELSE cmd
	| KW_WHILE '(' expr ')' cmd
	| KW_FOR '(' ID '=' expr KW_TO expr ')' cmd

